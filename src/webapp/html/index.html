<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Proj2-Home</title>
	<meta name="viewport" content="initial-scale=1, maximum scale=1, user-scalable=no, minimal-ui">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<link rel="stylesheet" href="css/ratchet.css">
	<link rel="stylesheet" href="css/ratchet-theme-android.css">
	<link rel="stylesheet" href="css/app.css">
	<script src="js/jquery-2.2.3.min.js"></script>
	<script src="js/ratchet.js"></script>
	<script>
	function updatePhoto(event){
	var reader = new FileReader()
	reader.onload = function(event){
		//Create img
		var img = new Image();
		img.onload = function(){
			//Place img on screen
			canvas = document.getElementById("photo");
			ctx = canvas.getContext("2d");
			ctx.drawImage(img,0,0,img.width,img.height,0,0,640,480);			
		}
		img.src = event.target.result;
	}
	//Get File
	reader.readAsDataURL(event.target.files[0]);
	
	window.URL.revokeObjectURL(picURL);
	}
	function parseStuff(){
		alert(document.getElementById('meme_text_args').checked)
		if (document.getElementById('meme_text_args').checked)
		{
			var useOutline = "False";
			if (document.getElementById('outline').checked)
				useOutline = "True";
			document.getElementById('meme_text_args').value = "add_text!,!" + userOutline + "!,!" +  document.getElementById('textdown').value + "!,!" + document.getElementById('textup').value;
			alert(document.getElementById('meme_text_args').value);
		}

	}


	</script>
	
	
</head>
<body>
	
	<header class="bar bar-nav">
		<h1 class="title">Projeto 2</h1>
	</header>
	
	<div class="content">
		<form name="input" action="api/put" method="POST" enctype="multipart/form-data"  >
		<ul style="padding-left:2em"class="table-view">
			<br>
			<li class="table-view-cell">
				Select image <input type="file" value ="None" name="image" onchange="updatePhoto(event);"></input>
			</li>
			<canvas style="margin:auto;display:block;border-style:solid" id="photo" width="640" height="480"></canvas>
		</ul>	
		
		<ul>
			<h2>Type</h2>
			<li class="table-view-cell">
				<input type="radio" name="type" id="effect_radio" value="EFFECT"> Effect</input>
			</li>
			<li class="table-view-cell">
				<input type="radio" name="type" id="meme_radio" value="MEME"> Meme</input>
			</li>
			<li class="table-view-cell">
				<input type="radio" name="type" id="photo_radio" value="PHOTO" checked> Photo</input>
			</li><br>
			<h2>Effects</h2>
			<li class="table-view-cell">	
				<input type="radio" name="args" value="sepia" checked> Sepia</input>
							
			</li>
			<li class="table-view-cell">
				<input type="radio" name="args" value="lomography"> Lomography</input>
			</li>
			<br>
			<h2>Meme</h2>
			<input type="radio" name="args" id="meme_text_args" value=""> Text</input>
				<input type="text" id="textup" placeholder="Upper Text" value="" onchange="meme_text_args.value = 'add_text!,!' + outline.value + '!,!' +  textdown.value + '!,!' + textup.value">
				<input type="text" id="textdown" placeholder="Bottom Text" value="" onchange="meme_text_args.value = 'add_text!,!' + outline.value + '!,!' +  textdown.value + '!,!' + textup.value">
			<li class="table-view-cell">
				<!--<input type="checkbox" name="args" value="add_text!,!True!,!TesteA!,!TesteB"> Texto Sombreado<br>-->
				<input type="checkbox" id="outline" value="True" onchange="var x='True'; if (outline.value == 'True') { x='False'; outline.value = x;} meme_text_args.value = 'add_text!,!' + outline.value + '!,!' +  textdown.value + '!,!' + textup.value;"checked>Outline<br>
			</li>

			<li class="table-view-cell">
				<input type="submit" value="Submit"><br>
			</li>
		</ul>
		</form>
	</div>
	<div>				
		<nav class="bar bar-tab">
			<a class="tab-item active" href="#">
			Home
			</a>
			<a class="tab-item" href="galeria.html" target="_self">
			Gallery
			</a>
		</nav>
	</div>
  
</body>
</html>

